<%- include("../partials/header") %>

<h1 class="mb-4">Edit Assignment</h1>

<!-- form to update an assignment -->
<form action="/assignments/<%= assignment._id %>?_method=PUT" method="POST">

  <div class="mb-3">
    <label class="form-label">Title</label>
    <input type="text" name="title" class="form-control" value="<%= assignment.title %>" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Course</label>
    <input type="text" name="course" class="form-control" value="<%= assignment.course %>" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Due Date</label>
    <input type="date" name="dueDate" class="form-control" value="<%= assignment.dueDate.toISOString().substring(0,10) %>" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Status</label>
    <select name="status" class="form-select">
      <option value="Not Started" <%= assignment.status === "Not Started" ? "selected" : "" %>>Not Started</option>
      <option value="In Progress" <%= assignment.status === "In Progress" ? "selected" : "" %>>In Progress</option>
      <option value="Completed" <%= assignment.status === "Completed" ? "selected" : "" %>>Completed</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Priority</label>
    <select name="priority" class="form-select">
      <option value="Low" <%= assignment.priority === "Low" ? "selected" : "" %>>Low</option>
      <option value="Medium" <%= assignment.priority === "Medium" ? "selected" : "" %>>Medium</option>
      <option value="High" <%= assignment.priority === "High" ? "selected" : "" %>>High</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Notes</label>
    <textarea name="notes" class="form-control" rows="3"><%= assignment.notes %></textarea>
  </div>

  <button type="submit" class="btn btn-main">Update Assignment</button>
  <a href="/assignments" class="btn btn-secondary">Cancel</a>

</form>

<%- include("../partials/footer") %>
